<article class="page-shell section-stack mx-auto max-w-5xl">
  <header class="page-header">
    <h1 class="page-title">AWS geographic infrastructure</h1>

    <p class="page-lead">
      AWS Geographies represent strategic market boundaries that ensure data sovereignty and
      regulatory compliance while enabling customers to deploy resilient, low-latency applications.
    </p>
  </header>

  <section class="section-block" aria-labelledby="distribution-heading">
    <div>
      <h2 id="distribution-heading" class="section-title">Global geographic distribution</h2>
      <p class="text-base leading-relaxed text-text-muted">
        AWS organizes its cloud infrastructure into distinct geographies to help customers meet
        their data residency, compliance, and latency requirements. Each geography serves a specific
        market area and contains multiple regions for redundancy.
      </p>
    </div>
    <!-- Desktop table view -->
    <div class="table-shell hidden sm:block">
      <table class="table-base">
        <caption class="sr-only">
          AWS geographies with their associated regions.
        </caption>
        <thead class="table-head">
          <tr>
            <th class="px-4 py-3" scope="col">Geography</th>
            <th class="px-4 py-3" scope="col">Regions</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-border-soft">
          @for (g of tableData(); track g.name) {
            <tr class="table-row-hover">
              <td
                class="min-w-48 px-4 py-3 align-top text-sm font-semibold tracking-wide text-text-strong uppercase"
              >
                {{ g.name }}
              </td>
              <td class="px-4 py-3">
                <ul class="grid gap-x-6 gap-y-3 sm:grid-cols-2 xl:grid-cols-3">
                  @for (r of g.regions; track r.regionId) {
                    <li class="min-w-[12rem] space-y-1 text-left">
                      <a class="link-primary font-semibold" [routerLink]="['/regions', r.regionId]">
                        {{ r.displayName }}
                        <span aria-hidden="true" class="text-text-muted">></span>
                      </a>
                      <div class="text-xs font-semibold tracking-wide text-text-subtle uppercase">
                        {{ r.regionId }}
                      </div>
                    </li>
                  }
                </ul>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <!-- Mobile card view -->
    <div class="space-y-4 sm:hidden">
      @for (g of tableData(); track g.name) {
        <div class="rounded-lg border border-border-soft bg-surface-raised p-4">
          <div class="mb-3 text-sm font-semibold tracking-wide text-text-strong uppercase">
            {{ g.name }}
          </div>
          <ul class="grid gap-3">
            @for (r of g.regions; track r.regionId) {
              <li>
                <a
                  class="block rounded-md bg-surface-muted px-3 py-2 transition-colors hover:bg-surface-contrast"
                  [routerLink]="['/regions', r.regionId]"
                >
                  <div class="font-semibold text-text-strong">{{ r.displayName }}</div>
                  <div class="text-xs font-semibold tracking-wide text-text-subtle uppercase">
                    {{ r.regionId }}
                  </div>
                </a>
              </li>
            }
          </ul>
        </div>
      }
    </div>
  </section>

  <section class="section-block" aria-labelledby="resources-heading">
    <h2 id="resources-heading" class="section-title">Additional resources</h2>
    <div class="resource-grid">
      <article class="card card-resource">
        <h3 class="card-title">AWS Global Infrastructure</h3>
        <p class="card-description">Explore AWS's worldwide presence</p>
        <a
          href="https://aws.amazon.com/about-aws/global-infrastructure/"
          target="_blank"
          rel="noopener noreferrer"
          class="card-cta"
        >
          View global infrastructure
        </a>
      </article>
      <article class="card card-resource">
        <h3 class="card-title">AWS Compliance Programs</h3>
        <p class="card-description">Understand regional compliance coverage</p>
        <a
          href="https://aws.amazon.com/compliance/programs/"
          target="_blank"
          rel="noopener noreferrer"
          class="card-cta"
        >
          See compliance programs
        </a>
      </article>
    </div>
  </section>
</article>
